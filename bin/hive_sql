#!/usr/bin/env ruby

require 'rake'
require 'pp'
require 'hive_sql'

gem_dir = File.expand_path("..", File.dirname(__FILE__))
$LOAD_PATH.unshift gem_dir

pwd = Dir.pwd
Dir.chdir(gem_dir)
Rake.application.init
Rake.application.load_rakefile
Dir.chdir(pwd)

puts '#'*40
puts '#'*40
puts "Welcome to HiveSQL Version: #{HiveSQL::VERSION}"
puts '#'*40
puts '#'*40
puts ''

case ARGV[0]
when 'todo'
  puts 'todo'
else
  begin
    Rake::Task[ARGV[0]].invoke(*ARGV[1..-1])
  rescue => e
    puts e
    STDOUT.puts <<~EOF
      Please provide command name

      Usage:
        hive_sql todo
        hive_sql help
    EOF
  end
end
